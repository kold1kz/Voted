(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,r){e.exports={voters:"styles_voters__3Jknw",voters_empty:"styles_voters_empty__2lt94",voters__error:"styles_voters__error__3tuGZ","error-text":"styles_error-text__37e3l","error-btn":"styles_error-btn__7LJrp",voters__results:"styles_voters__results__2Tl8T","resluts-table":"styles_resluts-table__1S1ax","turnout-error":"styles_turnout-error__PvKYE","turnout-success":"styles_turnout-success__9x_cW","resluts-table__header":"styles_resluts-table__header__3WZv-","voters__content-container":"styles_voters__content-container__2e0FJ",content:"styles_content__2CPue","voters-form":"styles_voters-form__iTBdL","voters-form__description":"styles_voters-form__description__3NLAv","voters-form__time-left":"styles_voters-form__time-left__LkVLu","voters-form__time-left_alert":"styles_voters-form__time-left_alert__1vW3E","voters-form__main-error":"styles_voters-form__main-error__294MO","voters-form__main-error_showing":"styles_voters-form__main-error_showing__71w56","popup-title":"styles_popup-title__2FJE4","popup-title__people-count":"styles_popup-title__people-count__VZJ_a","first-voters-form__description":"styles_first-voters-form__description__1PS1J","first-voters-form__time-left":"styles_first-voters-form__time-left__1Saql","first-voters-form__main-error":"styles_first-voters-form__main-error__XfA_1"}},122:function(e,t,r){e.exports={"employee-page":"styles_employee-page__2S5I5","employee-page__header":"styles_employee-page__header__XpJJW"}},124:function(e,t,r){e.exports={"results-list":"styles_results-list__2ZV57","results-list_empty":"styles_results-list_empty__3Pi1W","results-list__error":"styles_results-list__error__3ptIR","error-text":"styles_error-text__FoSbX","error-btn":"styles_error-btn__3_Z0I"}},125:function(e,t,r){},134:function(e,t,r){},16:function(e,t,r){e.exports={candidates:"styles_candidates__3XXL0","candidates__voting-areas":"styles_candidates__voting-areas__3wQXi","voting-areas__info-block":"styles_voting-areas__info-block__2_JbY","voting-areas__name":"styles_voting-areas__name__1U2SG","voting-areas__value":"styles_voting-areas__value__1PcBy","candidates__candidates-list":"styles_candidates__candidates-list__3ctqF",candidates_empty:"styles_candidates_empty__qST_j",candidates__error:"styles_candidates__error___SnR6","error-text":"styles_error-text__2dX8_","error-btn":"styles_error-btn__q0EXl"}},23:function(e,t,r){e.exports={results:"styles_results__1QdWF",results__statistics:"styles_results__statistics__X-BY2",info:"styles_info__1Q3Kd",info__result:"styles_info__result__1nj5z",results__list:"styles_results__list__ZR3Jq",results_empty:"styles_results_empty__23ihD",results__error:"styles_results__error__3i6sp","error-text":"styles_error-text__38QPZ","error-btn":"styles_error-btn__13iEQ"}},24:function(e,t,r){e.exports={"form-input":"styles_form-input__1t8R0","form-input__label":"styles_form-input__label__3HEZ7","form-input__input-wrapper":"styles_form-input__input-wrapper__2DkJU","form-input__input":"styles_form-input__input__3a2wq","form-input__input_with-icon":"styles_form-input__input_with-icon__2ANgF","form-input__input_error":"styles_form-input__input_error__1edUa","form-input__input-icon":"styles_form-input__input-icon__28QMT","form-input__error":"styles_form-input__error__kqGel","form-input__error_display":"styles_form-input__error_display__3O_sq","form-input__error_showing":"styles_form-input__error_showing__1014B"}},255:function(e,t,r){"use strict";r.r(t);r(125);var n,s=r(1),a=r.n(s),o=r(39),c=r.n(o),i=r(42),u=r(7),l=(r(134),r(75)),_=r(2),p=r.n(_),d=r(4),m=r(3),b=r(9),f=r(10),j=r(114),h=r.n(j),O=r(37),v=r(115),x=r(116),y=r(13);!function(e){e.CLEAR_AUTH_ACTION="CLEAR_AUTH_ACTION",e.SAVE_NEW_TOKEN_ACTION="SAVE_NEW_TOKEN_ACTION",e.IS_REFRESHING_ACTION="IS_REFRESHING_ACTION",e.IS_TRYING_LOGIN_ACTION="IS_TRYING_LOGIN_ACTION",e.ERROR_LOGIN_ACTION="ERROR_LOGIN_ACTION",e.ERROR_REFRESH_ACTION="ERROR_REFRESH_ACTION"}(n||(n={}));var g={access_token:null,isRefreshing:!0,isTryingToLogin:!1,errorRefreshing:null,errorLogin:null,isFirstRefreshDone:!1};var N,S={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.CLEAR_AUTH_ACTION:return Object(y.a)(Object(y.a)({},g),{},{isFirstRefreshDone:!0});case n.SAVE_NEW_TOKEN_ACTION:return Object(y.a)(Object(y.a)({},e),{},{access_token:t.payload,isFirstRefreshDone:!0});case n.IS_REFRESHING_ACTION:return Object(y.a)(Object(y.a)({},e),{},{isRefreshing:t.payload});case n.IS_TRYING_LOGIN_ACTION:return Object(y.a)(Object(y.a)({},e),{},{isTryingToLogin:t.payload});case n.ERROR_REFRESH_ACTION:return Object(y.a)(Object(y.a)({},e),{},{errorRefreshing:t.payload});case n.ERROR_LOGIN_ACTION:return Object(y.a)(Object(y.a)({},e),{},{errorLogin:t.payload});default:return e}}},w=Object(O.combineReducers)(S),E=Object(O.createStore)(w,Object(v.composeWithDevTools)(Object(O.applyMiddleware)(x.a))),I={clearAuthState:function(){return{type:n.CLEAR_AUTH_ACTION}},saveNewToken:function(e){return{type:n.SAVE_NEW_TOKEN_ACTION,payload:e}},setIsRefreshing:function(e){return{type:n.IS_REFRESHING_ACTION,payload:e}},setIsTryingLogin:function(e){return{type:n.IS_TRYING_LOGIN_ACTION,payload:e}},setLoginError:function(e){return{type:n.ERROR_LOGIN_ACTION,payload:e}},setRefreshingError:function(e){return{type:n.ERROR_REFRESH_ACTION,payload:e}},fetchRefreshTokens:function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(I.setIsRefreshing(!0)),t(I.setRefreshingError(null)),e.next=5,k.refreshTokens();case 5:r=e.sent,t(I.saveNewToken(r.data.access_token)),t(I.setIsRefreshing(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(I.clearAuthState()),t(I.setRefreshingError(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},fetchLogin:function(e,t){return function(){var r=Object(d.a)(p.a.mark((function r(n){var s;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(I.setIsTryingLogin(!0)),n(I.setLoginError(null)),r.next=5,k.login(e,t);case 5:s=r.sent,n(I.saveNewToken(s.data.access_token)),n(I.setIsTryingLogin(!1)),r.next=15;break;case 10:r.prev=10,r.t0=r.catch(0),n(I.setIsTryingLogin(!1)),n(I.setLoginError(r.t0.message)),setTimeout((function(){n(I.setLoginError(null))}),2e3);case 15:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},fetchLogout:function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(I.setIsTryingLogin(!0)),e.next=4,k.logout();case 4:t(I.clearAuthState()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(I.clearAuthState());case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},C=E.dispatch,T=h.a.create({baseURL:"http://neo-a4-voting-app.std-884.ist.mospolytech.ru/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});!function(e){e.REFRESH_TOKENS="/auth/refresh-tokens",e.LOGIN="/auth/login",e.LOGOUT="/auth/logout",e.CANDIDATES_AND_AREAS_INFO="/candidate-va-info",e.DISTRICTS_TURNOUT="/districts-turnout",e.RESULTS_INFO="/results",e.TURNOUT_INFO="/user-turnout",e.CANDIDATES_INFO="/user-results",e.GET_VOTING_DATE="/voting-date",e.CHECK_PROTOCOL="/check-protocol"}(N||(N={})),T.interceptors.response.use(void 0,function(){var e=Object(d.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.response){e.next=2;break}return e.abrupt("return",new Promise((function(e,r){r(t)})));case 2:if(403!==t.response.status){e.next=26;break}if(t.response.config.url!==N.LOGIN){e.next=7;break}return e.abrupt("return",new Promise((function(e,r){r(t)})));case 7:if(t.response.config.url!==N.REFRESH_TOKENS){e.next=12;break}return C(I.clearAuthState()),e.abrupt("return",new Promise((function(e,r){r(t)})));case 12:return e.prev=12,e.next=15,k.refreshTokens();case 15:return r=e.sent,C(I.saveNewToken(r.data.access_token)),t.config.headers.Authorization="Bearer ".concat(r.data.access_token),e.abrupt("return",T.request(t.config));case 21:return e.prev=21,e.t0=e.catch(12),e.abrupt("return",new Promise((function(e,r){r(t)})));case 24:e.next=27;break;case 26:return e.abrupt("return",new Promise((function(e,r){r(t)})));case 27:case"end":return e.stop()}}),e,null,[[12,21]])})));return function(t){return e.apply(this,arguments)}}());var k=function(){function e(){Object(b.a)(this,e)}return Object(f.a)(e,null,[{key:"refreshTokens",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.get(N.REFRESH_TOKENS));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(d.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.post(N.LOGIN,{login:t,password:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.get("/user-info",{headers:{Authorization:"Bearer ".concat(t)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTurnoutInfo",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.get(N.TURNOUT_INFO,{headers:{Authorization:"Bearer ".concat(t)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendTurnoutInfo",value:function(){var e=Object(d.a)(p.a.mark((function e(t,r,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.post(N.TURNOUT_INFO,{turnout:r,client_add_time:n},{headers:{Authorization:"Bearer ".concat(t)}}));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sendResultsInfo",value:function(){var e=Object(d.a)(p.a.mark((function e(t,r,n,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.post(N.CANDIDATES_INFO,{processed_bulletins:r,spoiled_bulletins:n,candidates:s},{headers:{Authorization:"Bearer ".concat(t)}}));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,s){return e.apply(this,arguments)}}()},{key:"getCandidatesInfo",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.get(N.CANDIDATES_INFO,{headers:{Authorization:"Bearer ".concat(t)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkProtocolIsSent",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.get(N.CHECK_PROTOCOL,{headers:{Authorization:"Bearer ".concat(t)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCandidatesAndAreasInfo",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.get(N.CANDIDATES_AND_AREAS_INFO));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getVotingDate",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.get(N.GET_VOTING_DATE));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getDistrictsTurnout",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.get(N.DISTRICTS_TURNOUT));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getResultsInfo",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.get(N.RESULTS_INFO));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.get(N.LOGOUT));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),R=r(5),D=r.n(R),A=r.p+"static/media/header-logo.edb235c9.svg",L=Object(s.createContext)({});L.displayName="timeContext";var F=L,G=r(0),P=function(){var e=Object(s.useContext)(F).time;return Object(G.jsxs)(G.Fragment,{children:[e.hours<10?"0"+e.hours:e.hours,":",e.minutes<10?"0"+e.minutes:e.minutes]})},M=r(49),B=r.n(M),V=Object(s.memo)((function(e){var t=e.isHideClocks,r=void 0!==t&&t,n=e.className;return Object(G.jsxs)("header",{className:D()(B.a.header,n||null),children:[Object(G.jsx)("p",{className:D()(B.a.header__clock,r?B.a.header__clock_hidden:null),children:Object(G.jsx)(P,{})}),Object(G.jsx)("img",{src:A,alt:"\u0412\u044b\u0431\u043e\u0440\u044b \u043c\u044d\u0440\u0430 \u041c\u043e\u0441\u043a\u0432\u044b \u043b\u043e\u0433\u043e",className:B.a.header__logo})]})})),U=i.c,q=r(15),H=Object(q.a)(),J=r(63),K=r.n(J),W=function(e){var t=e.type,r=e.className,n=e.disabled,s=e.children,a=e.onClick,o=e.redColor;return Object(G.jsx)("button",{type:t,className:D()(K.a["form-button"],o?K.a["form-button_color_red"]:null,r,n?K.a["form-button_color_gray"]:null),disabled:!!n,onClick:a,children:s})},Y=r(50),z=r.n(Y),Z=function(e){var t=e.isProtocolSent,r=Object(s.useState)(!1),n=Object(m.a)(r,2),a=n[0],o=n[1],c=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,k.logout();case 3:o(!1),document.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(G.jsx)("div",{className:z.a.wrapper,children:Object(G.jsxs)("div",{className:z.a.final__content,children:[Object(G.jsxs)("p",{className:z.a.final__header,children:[t?"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0440\u0430\u0431\u043e\u0442\u0443!":"\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u043e"," "]}),Object(G.jsx)(W,{type:"button",onClick:c,disabled:a,className:z.a.final__button,children:"\u0412\u044b\u0439\u0442\u0438"})]})})},Q=r(14),X=r(25),$=r(18),ee=r(77),te=r.n(ee),re=function(e){var t=e.className,r=e.isPrimaryColor;return Object(G.jsx)("div",{className:D()(te.a.spinner,r?te.a["spinner_primary-color"]:null,t||null)})},ne=function(e){var t=e.children,r=Object(s.useState)(document.createElement("div")),n=Object(m.a)(r,1)[0];return Object(s.useEffect)((function(){return document.body.appendChild(n),function(){document.body.removeChild(n)}}),[]),c.a.createPortal(t,n)},se=r(38),ae=r.n(se),oe=function(e){var t=e.onConfirm,r=e.onClose,n=e.title,s=e.children,a=e.isSubmitting;return Object(G.jsx)(ne,{children:Object(G.jsx)("div",{className:ae.a.popup__background,children:Object(G.jsxs)("div",{className:ae.a.popup__content,children:[Object(G.jsxs)("div",{className:ae.a.popup__props,children:[n,s&&s]}),Object(G.jsxs)("div",{className:ae.a["popup__buttons-block"],children:[Object(G.jsx)(W,{type:"button",onClick:r,redColor:!0,className:ae.a.popup__button,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(G.jsx)(W,{type:"button",onClick:t,disabled:a,className:ae.a.popup__button,children:a?Object(G.jsx)(re,{}):"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})})})},ce=r.p+"static/media/alert.d3f61112.svg",ie=r(43),ue=r.n(ie),le=function(e){return Object(G.jsxs)("div",{className:D()(ue.a["error-alert"],e.className?e.className:null),children:[Object(G.jsx)("img",{src:ce,alt:"Error img",className:ue.a["error-alert__icon"]}),Object(G.jsxs)("div",{className:ue.a["error-alert__content"],children:[Object(G.jsx)("span",{className:ue.a["error-alert__header"],children:e.header}),Object(G.jsx)("span",{className:ue.a["error-alert__description"],children:e.description})]})]})},_e=r(24),pe=r.n(_e),de=function(e){var t=Object(s.useState)(!1),r=Object(m.a)(t,2),n=r[0],a=r[1];return Object(G.jsxs)("div",{className:D()(pe.a["form-input"],e.className?e.className:null),children:[e.hideLabel?null:Object(G.jsx)("label",{htmlFor:e.id,className:pe.a["form-input__label"],children:e.labelName}),Object(G.jsxs)("div",{className:D()(pe.a["form-input__input-wrapper"],e.classNameForInput?e.classNameForInput:null),children:[Object(G.jsx)("input",{type:n?"text":e.type,placeholder:e.placeholder||"",value:e.value,onChange:e.onChange,onBlur:e.onBlur,className:D()(pe.a["form-input__input"],e.showError?pe.a["form-input__input_error"]:null,e.hasIcon?pe.a["form-input__input_with-icon"]:null),id:e.id,name:e.name,required:e.required,disabled:!!e.disabled}),e.hasIcon&&e.iconUrl?Object(G.jsx)("img",{src:e.iconUrl,alt:"",className:pe.a["form-input__input-icon"],onClick:function(){a((function(e){return!e}))}}):null]}),Object(G.jsx)("small",{className:D()(pe.a["form-input__error"],e.classNameForError?e.classNameForError:null,e.useErrorDisplay?pe.a["form-input__error_display"]:null,e.showError?pe.a["form-input__error_showing"]:null),children:e.errorMessage})]})},me=r(6),be=r.n(me),fe=function(e){var t=e.setIsProtocolSent,r=U((function(e){return e.auth})).access_token,n=Object(s.useState)([]),a=Object(m.a)(n,2),o=a[0],c=a[1],i=Object(s.useContext)(F),u=i.time,l=u.minutes,_=u.hours,b=i.isDevNextDaySet,f=Object(s.useState)(!0),j=Object(m.a)(f,2),h=j[0],O=j[1],v=Object(s.useState)(!1),x=Object(m.a)(v,2),g=x[0],N=x[1],S=Object(s.useState)(!1),w=Object(m.a)(S,2),E=w[0],I=w[1],C=Object(s.useState)(!1),T=Object(m.a)(C,2),R=T[0],A=T[1],L=Object(s.useState)(!1),P=Object(m.a)(L,2),M=P[0],B=P[1],V=Object(s.useState)({turnout:0,maxPeople:0}),q=Object(m.a)(V,2),J=q[0],K=q[1],Y=function(e){A(!1),e(!1)},z=function(){var e=Object(d.a)(p.a.mark((function e(n,s,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!1),B(!0),e.next=5,k.sendResultsInfo(r,n.processed_bulletins,n.spoiled_bulletins,n.candidates);case 5:a(),B(!1),Y(s),t(!0),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),B(!1),I(!0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),N(!1),e.next=5,k.getCandidatesInfo(r);case 5:return t=e.sent.data,e.next=8,k.getTurnoutInfo(r);case 8:n=e.sent.data,K({turnout:n.va_data.reduce((function(e,t){return e<t.count_voters?t.count_voters:e}),0),maxPeople:n.max_people}),c(t.candidates),O(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),N(!0),O(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){Z()}),[]),Object(s.useEffect)((function(){b&&(_>8||8===_&&l>=46)&&(t(!1),H.push("/employee-page/final"))}),[l,_,b]);var ee=$.c().shape({bulletinsCount:$.b().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").min(0,"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 0").max(J.turnout,"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u0442\u043e\u0433\u043e\u0432\u043e\u0439 \u044f\u0432\u043a\u0438 (".concat(J.turnout," \u0447\u0435\u043b)")).test("testPassedCount","\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0440\u0430\u0432\u043d\u043e \u0441\u0443\u043c\u043c\u0435 \u0438\u0441\u043f\u043e\u0440\u0447\u0435\u043d\u043d\u044b\u0445 + \u0437\u0430 \u0432\u0441\u0435\u0445 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432",(function(e){var t=this.options.context.candidateVotes.reduce((function(e,t){return e+t.value}),0);return e===this.options.context.spoiledBulletinsCount+t})).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),spoiledBulletinsCount:$.b().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").min(0,"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 0").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").test("testSpoiledCount","\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445",(function(e){return!(e>this.options.context.bulletinsCount)})),candidateVotes:$.a().of($.c().shape({value:$.b().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").min(0,"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 0").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").test("testVotesCount","\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445",(function(e){return!(e>this.options.context.bulletinsCount)}))})).required("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0433\u043e\u043b\u043e\u0441\u0430")});return Object(G.jsx)("div",{className:D()(be.a.protocol,g||h?be.a.protocol_empty:null),children:h?Object(G.jsx)(re,{className:be.a.protocol__loader,isPrimaryColor:!0}):g?Object(G.jsxs)("div",{className:be.a.protocol__error,children:[Object(G.jsx)("span",{className:be.a["error-text"],children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c"}),Object(G.jsx)(W,{type:"button",disabled:!1,className:be.a["error-btn"],onClick:Z,children:"\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})]}):Object(G.jsx)(X.c,{initialValues:{bulletinsCount:0,spoiledBulletinsCount:0,candidateVotes:Object(Q.a)(o.map((function(e){return Object(y.a)(Object(y.a)({},e),{},{value:0})})))},validate:function(e){try{Object(X.d)(e,ee,!0,e)}catch(t){return Object(X.e)(t)}},onSubmit:function(){A(!0)},children:function(e){var t=e.values,r=e.errors,n=e.touched,s=e.handleChange,a=e.handleBlur,o=e.handleSubmit,c=e.isSubmitting,i=e.isValid,u=e.setSubmitting,l=e.resetForm;return Object(G.jsxs)("form",{onSubmit:o,className:D()(be.a.protocol__form,be.a["protocol-form"]),children:[Object(G.jsxs)("div",{className:D()(be.a["protocol-form__wrapper"]),children:[Object(G.jsxs)("div",{className:D()(be.a["protocol-form__bulletins"],be.a.bulletins),children:[Object(G.jsxs)("p",{className:be.a["protocol-form__description"],children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e ",Object(G.jsx)("br",{})," ",Object(G.jsx)("span",{className:"bold-text",children:"\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445 "})," \u0431\u044e\u043b\u043b\u0435\u0442\u0435\u043d\u0435\u0439"]}),Object(G.jsx)(de,{labelName:"\u042f\u0432\u043a\u0430",id:"bulletinsCount",name:"bulletinsCount",type:"number",value:t.bulletinsCount,onChange:s,onBlur:a,errorMessage:r.bulletinsCount||"",required:!0,showError:!(!n.bulletinsCount||!r.bulletinsCount),hideLabel:!0,className:be.a.bulletins__input,classNameForInput:be.a["bulletins__input-block"],classNameForError:be.a["bulletins__input-error"]}),Object(G.jsxs)("p",{className:be.a["protocol-form__description"],children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e ",Object(G.jsx)("br",{})," ",Object(G.jsx)("span",{className:"bold-text",children:"\u0438\u0441\u043f\u043e\u0440\u0447\u0435\u043d\u043d\u044b\u0445 "})," \u0431\u044e\u043b\u043b\u0435\u0442\u0435\u043d\u0435\u0439"]}),Object(G.jsx)(de,{labelName:"\u042f\u0432\u043a\u0430",id:"spoiledBulletinsCount",name:"spoiledBulletinsCount",type:"number",value:t.spoiledBulletinsCount,onChange:s,onBlur:a,errorMessage:r.spoiledBulletinsCount||"",required:!0,showError:!(!n.spoiledBulletinsCount||!r.spoiledBulletinsCount),hideLabel:!0,className:be.a.bulletins__input,classNameForInput:be.a["bulletins__input-block"],classNameForError:be.a["bulletins__input-error"]})]}),Object(G.jsxs)("div",{className:D()(be.a["protocol-form__votes"],be.a.votes),children:[Object(G.jsxs)("p",{className:be.a["protocol-form__description"],children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ",Object(G.jsx)("span",{className:"bold-text",children:"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})," \u0433\u043e\u043b\u043e\u0441\u043e\u0432 \u043f\u043e \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430\u043c"]}),Object(G.jsx)(X.b,{name:"candidateVotes",render:function(){return Object(G.jsx)("div",{className:be.a["votes__candidate-list"],children:t.candidateVotes.map((function(e,t){return Object(G.jsxs)("div",{className:D()(be.a["votes__input-block"],r.candidateVotes&&r.candidateVotes[t]?be.a["votes__input-block_error"]:null),children:[Object(G.jsx)("label",{htmlFor:"candidateVotes[".concat(t,"]"),className:be.a.votes__label,children:(n=e.candidate,n.split(" ")[0]+" "+n.split(" ")[1][0]+". "+n.split(" ")[2][0]+".")}),Object(G.jsx)(X.a,{type:"number",name:"candidateVotes[".concat(t,"].value"),id:"candidateVotes[".concat(t,"]"),required:!0,className:be.a.votes__input})]},t);var n}))})}})]})]}),Object(G.jsx)(le,{header:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438",description:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437",className:D()(be.a["protocol-form__main-error"],be.a["protocol-form__main-error_hidden"])}),Object(G.jsxs)("p",{className:D()(be.a["protocol-form__time-left"],be.a["protocol-form__time-left_hidden"]),children:["\u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 ",Object(G.jsx)("span",{className:"bold-text",children:"18"})," ","\u043c\u0438\u043d\u0443\u0442"," "]}),Object(G.jsx)(W,{type:"submit",disabled:!i&&c,className:be.a["protocol-form__submit-btn"],children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),R?Object(G.jsx)(oe,{isSubmitting:M,onClose:function(){return Y(u)},title:Object(G.jsx)("p",{className:be.a["popup-title"],children:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0431\u044e\u043b\u043b\u0435\u0442\u0435\u043d\u0435\u0439"}),onConfirm:function(){var e={processed_bulletins:t.bulletinsCount,spoiled_bulletins:t.spoiledBulletinsCount,candidates:t.candidateVotes.map((function(e){return{candidate_id:e.candidate_id,count_votes:e.value}}))};z(e,u,l)},children:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:be.a["popup-content"],children:[Object(G.jsxs)("div",{className:be.a["popup-content__votes-type"],children:[Object(G.jsxs)("p",{children:["\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445: ",t.bulletinsCount]}),Object(G.jsxs)("p",{children:["\u0418\u0441\u043f\u043e\u0440\u0447\u0435\u043d\u043d\u044b\u0445: ",t.spoiledBulletinsCount]})]}),Object(G.jsx)("div",{className:be.a["popup-content__candidates-list"],children:t.candidateVotes.map((function(e){var r,n;return Object(G.jsx)("p",{children:(n=null===(r=t.candidateVotes.find((function(t){return t.candidate_id===e.candidate_id})))||void 0===r?void 0:r.candidate,n.split(" ")[1]+" "+n.split(" ")[0]+": "+e.value)},e.candidate_id)}))})]}),E?Object(G.jsx)(le,{header:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438",description:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}):null]})}):null]})}})})},je=r(11),he=r.n(je),Oe=[{tableTime:"12:00",count:null,available:{from:{hours:11,minutes:30},to:{hours:11,minutes:45}},withNextDay:!1,partOfDay:"morning",status:"waiting"},{tableTime:"15:00",count:null,available:{from:{hours:14,minutes:30},to:{hours:14,minutes:45}},withNextDay:!1,partOfDay:"day",status:"waiting"},{tableTime:"18:00",count:null,available:{from:{hours:17,minutes:30},to:{hours:17,minutes:45}},withNextDay:!1,partOfDay:"evening",status:"waiting"},{tableTime:"result",count:null,available:{from:{hours:20,minutes:0},to:{hours:8,minutes:45}},withNextDay:!0,partOfDay:"result",status:"waiting"}],ve=function(){var e=Object(s.useContext)(F),t=e.time,r=t.minutes,n=t.hours,a=e.isDevNextDaySet,o=U((function(e){return e.auth})).access_token,c=Object(s.useState)({votingAreaId:0,max_people:0}),i=Object(m.a)(c,2),u=i[0],l=i[1],_=Object(s.useState)(!0),b=Object(m.a)(_,2),f=b[0],j=b[1],h=Object(s.useState)(!1),O=Object(m.a)(h,2),v=O[0],x=O[1],y=Object(s.useState)(!1),g=Object(m.a)(y,2),N=g[0],S=g[1],w=Object(s.useState)(!1),E=Object(m.a)(w,2),I=E[0],C=E[1],T=Object(s.useState)(!1),R=Object(m.a)(T,2),A=R[0],L=R[1],P=Object(s.useState)(Oe),M=Object(m.a)(P,2),B=M[0],V=M[1],q=function(e,t,r){return B.find((function(n){return!(!(r||17===e&&t>=46||e>17)||"result"!==n.partOfDay)||((e<11||11===e&&t<=45)&&"morning"===n.partOfDay&&!r||((e<14||14===e&&t<=45)&&"day"===n.partOfDay&&!r||((e<17||17===e&&t<=45)&&"evening"===n.partOfDay&&!r||void 0)))}))},J=Object(s.useState)(q(n,r,a)),K=Object(m.a)(J,2),Y=K[0],z=K[1],Z=function(e){C(!1),e(!1)},Q=function(){var e=Object(d.a)(p.a.mark((function e(t,r,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!1),L(!0),e.next=5,k.sendTurnoutInfo(o,t,11===n?"morning":14===n?"day":17===n?"evening":"result");case 5:return e.next=7,ne();case 7:s(),L(!1),Z(r),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),L(!1),S(!0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r,n){return e.apply(this,arguments)}}(),ee=function(e){var t=e&&e.map((function(e){return{count:e.count_voters,partOfDay:e.client_add_time}})),s=B.map((function(e){var s=t&&t.length?t.find((function(t){return t.partOfDay===e.partOfDay})):B.find((function(t){return t.partOfDay===e.partOfDay}));return s&&null!==s.count?(e.count=s.count,e.status="success",e):((n<11||11===n&&r<=45)&&"morning"===e.partOfDay&&!a||(n<14||14===n&&r<=45)&&"day"===e.partOfDay&&!a||(n<17||17===n&&r<=45)&&"evening"===e.partOfDay&&!a||"result"===e.partOfDay||a&&(8===n&&r<=45||n<8)||(e.status="fail"),e)}));V(s)},te=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),x(!1),e.next=5,k.getTurnoutInfo(o);case 5:(t=e.sent.data).va_data.find((function(e){return"result"===e.client_add_time}))?H.push("/employee-page/protocol"):(ee(t.va_data),l({max_people:t.max_people,votingAreaId:t.voting_area_id}),j(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),x(!0),j(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getTurnoutInfo(o);case 3:(t=e.sent.data).va_data.find((function(e){return"result"===e.client_add_time}))?H.push("/employee-page/protocol"):(ee(t.va_data),l({max_people:t.max_people,votingAreaId:t.voting_area_id})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){te()}),[]),Object(s.useEffect)((function(){ee()}),[n,r,a]),Object(s.useEffect)((function(){z(q(n,r,a))}),[B]),Object(s.useEffect)((function(){"result"!==(null===Y||void 0===Y?void 0:Y.partOfDay)||"success"!==Y.status&&"fail"!==Y.status||H.push("/employee-page/protocol")}),[Y]);var se=function(){var e=0;return B.forEach((function(t){t.count&&t.count>e&&(e=t.count)})),e},ae=$.c().shape({votersCount:$.b().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").min(se()>0?se():0,se()>0?"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0443\u0436\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u0439 \u044f\u0432\u043a\u0438 (".concat(se()," \u0447\u0435\u043b.)"):"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 0").max(u.max_people,"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043a\u043e\u043b-\u0432\u0430 \u043b\u044e\u0434\u0435\u0439 \u043f\u0440\u0438\u043f\u0438\u0441\u0430\u043d\u043d\u043e\u0433\u043e \u043a \u0443\u0447\u0430\u0441\u0442\u043a\u0443 (".concat(u.max_people," \u0447\u0435\u043b)")).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),ce=function(){return"waiting"===(null===Y||void 0===Y?void 0:Y.status)&&(n===Y.available.from.hours&&r>=Y.available.from.minutes&&r<=Y.available.to.minutes||"result"===Y.partOfDay&&(a&&(n<8||8===n&&r<=45)||n>=20))};return Object(G.jsx)("div",{className:D()(he.a.voters,v||f?he.a.voters_empty:null),children:f?Object(G.jsx)(re,{className:he.a.voters__loader,isPrimaryColor:!0}):v?Object(G.jsxs)("div",{className:he.a.voters__error,children:[Object(G.jsx)("span",{className:he.a["error-text"],children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c"}),Object(G.jsx)(W,{type:"button",disabled:!1,className:he.a["error-btn"],onClick:te,children:"\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:he.a.voters__results,children:Object(G.jsxs)("table",{className:he.a["resluts-table"],children:[Object(G.jsxs)("caption",{className:he.a["resluts-table__header"],children:["\u0423\u0447\u0430\u0441\u0442\u043e\u043a \u2116",u.votingAreaId]}),Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{children:"\u0412\u0440\u0435\u043c\u044f"}),Object(G.jsx)("th",{children:"\u042f\u0432\u043a\u0430, \u0447\u0435\u043b."})]})}),Object(G.jsx)("tbody",{children:B.filter((function(e){return"result"!==e.partOfDay})).map((function(e){return Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:e.tableTime}),Object(G.jsx)("td",{className:"fail"===e.status?he.a["turnout-error"]:"success"===e.status?he.a["turnout-success"]:void 0,children:"waiting"===e.status?"\u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f \u0432\u0432\u043e\u0434":"fail"===e.status?"\u041d\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e":e.count})]},e.partOfDay)}))})]})}),Object(G.jsx)("div",{className:he.a["voters__content-container"],children:Object(G.jsx)("div",{className:he.a.content,children:Object(G.jsx)(X.c,{initialValues:{votersCount:0},validationSchema:ae,onSubmit:function(){C(!0)},children:function(e){var t=e.values,s=e.errors,a=e.touched,o=e.handleChange,c=e.handleBlur,i=e.handleSubmit,u=e.isSubmitting,l=e.isValid,_=e.setSubmitting,p=e.resetForm;return Object(G.jsxs)("form",{onSubmit:i,className:he.a["voters-form"],children:[Object(G.jsx)(le,{header:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438",description:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437",className:D()(he.a["voters-form__main-error"])}),Object(G.jsxs)("p",{className:he.a["voters-form__description"],children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435"," ",Y&&"result"===Y.partOfDay?"\u043e\u0431\u0449\u0435\u0435":null," ",Object(G.jsx)("span",{className:"bold-text",children:"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})," \u0438\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043b\u0435\u0439, \u044f\u0432\u0438\u0432\u0448\u0438\u0445\u0441\u044f \u043d\u0430 \u0443\u0447\u0430\u0441\u0442\u043e\u043a",Y&&"result"!==Y.partOfDay?Object(G.jsxs)(G.Fragment,{children:[" ","\u043a"," ",Object(G.jsx)("span",{className:"bold-text",children:Y.tableTime})]}):null]}),Object(G.jsxs)("p",{className:he.a["voters-form__time-left"],style:{margin:0},children:["\u041f\u043e\u043b\u0435 \u0432\u0432\u043e\u0434\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e ","result"===(null===Y||void 0===Y?void 0:Y.partOfDay)?n>=17&&n<20?"c 20:00":"\u0434\u043e 8:45":"\u0441 ".concat(null===Y||void 0===Y?void 0:Y.available.from.hours,":").concat(null===Y||void 0===Y?void 0:Y.available.from.minutes," \u0434\u043e ").concat(null===Y||void 0===Y?void 0:Y.available.to.hours,":").concat(null===Y||void 0===Y?void 0:Y.available.to.minutes)]}),Object(G.jsx)(de,{labelName:"\u042f\u0432\u043a\u0430",id:"votersCount",name:"votersCount",type:"number",value:t.votersCount,onChange:o,onBlur:c,errorMessage:s.votersCount||"",required:!0,showError:!(!a.votersCount||!s.votersCount),hideLabel:!0,useErrorDisplay:!0,disabled:!ce()}),ce()?Object(G.jsx)("p",{className:D()(he.a["voters-form__time-left"],("result"===(null===Y||void 0===Y?void 0:Y.partOfDay)&&8===n&&r>=30||"result"!==(null===Y||void 0===Y?void 0:Y.partOfDay))&&45-r<=5?he.a["voters-form__time-left_alert"]:null),children:"result"===(null===Y||void 0===Y?void 0:Y.partOfDay)&&8===n&&r>=30||"result"!==(null===Y||void 0===Y?void 0:Y.partOfDay)?45-r===0?Object(G.jsx)("span",{className:he.a["time-count"],children:"\u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u0432\u0432\u043e\u0434\u0430 \u044f\u0432\u043a\u0438 \u043c\u0435\u043d\u0435\u0435 \u043c\u0438\u043d\u0443\u0442\u044b"}):Object(G.jsxs)(G.Fragment,{children:["\u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u0432\u0432\u043e\u0434\u0430 \u044f\u0432\u043a\u0438"," ",Object(G.jsx)("span",{className:he.a["time-count"],children:45-r})," ","\u043c\u0438\u043d\u0443\u0442"]}):null}):Object(G.jsx)("p",{className:he.a["voters-form__time-left"]}),Object(G.jsx)(W,{type:"submit",disabled:!l||u||!ce(),children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),I?Object(G.jsx)(oe,{isSubmitting:A,onClose:function(){return Z(_)},title:Object(G.jsxs)("p",{className:he.a["popup-title"],children:["\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043b\u0435\u0439"," ",Y&&"result"!==Y.partOfDay?Object(G.jsxs)(G.Fragment,{children:[" ","\u043a"," ",Object(G.jsx)("span",{className:"bold-text",children:Y.tableTime})]}):null," ",Object(G.jsx)("br",{}),Object(G.jsx)("span",{className:he.a["popup-title__people-count"],children:t.votersCount})," ","\u0447\u0435\u043b\u043e\u0432\u0435\u043a"]}),onConfirm:function(){return Q(t.votersCount,_,p)},children:N?Object(G.jsx)(le,{header:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438",description:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}):null}):null]})}})})})]})})},xe=r(122),ye=r.n(xe),ge=function(){var e=U((function(e){return e.auth})).access_token,t=Object(s.useState)(null),r=Object(m.a)(t,2),n=r[0],a=r[1],o=Object(s.useState)(!0),c=Object(m.a)(o,2),i=c[0],l=c[1],_=function(){var t=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,k.checkProtocolIsSent(e);case 3:t.sent.data.protocolExists?(a(!0),H.push("/employee-page/final")):H.push("/employee-page/turnout"),l(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){_()}),[]),Object(s.useEffect)((function(){null!==n&&H.push("/employee-page/final")}),[n]),Object(G.jsx)("div",{className:ye.a["employee-page"],children:i?null:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsxs)(u.c,{children:[Object(G.jsx)(u.a,{path:"/employee-page/turnout",component:ve}),Object(G.jsx)(u.a,{path:"/employee-page/protocol",children:Object(G.jsx)(fe,{setIsProtocolSent:function(e){a(e)}})}),Object(G.jsx)(u.a,{path:"/employee-page/final",children:Object(G.jsx)(Z,{isProtocolSent:n})})]})]})})},Ne=Object(y.a)({},I),Se=function(){var e=Object(i.b)();return Object(O.bindActionCreators)(Ne,e)},we=r.p+"static/media/eye-label.d06f4e35.svg",Ee=r.p+"static/media/login-page-logo.296fa5e3.svg",Ie=r(26),Ce=r.n(Ie),Te=function(){var e=Se().fetchLogin,t=U((function(e){return e.auth})),r=t.errorLogin,n=t.isTryingToLogin,s=$.c().shape({login:$.d().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").trim().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:$.d().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")});return Object(G.jsxs)("div",{className:Ce.a["login-page"],children:[Object(G.jsx)(V,{className:Ce.a["login-page__header"]}),Object(G.jsx)("div",{className:Ce.a["login-page__picture"],children:Object(G.jsx)("img",{src:Ee,alt:"\u041b\u043e\u0433\u043e \u0432\u044b\u0431\u043e\u0440\u043e\u0432 \u043c\u044d\u0440\u0430 \u041c\u043e\u0441\u043a\u0432\u044b 2"})}),Object(G.jsx)("div",{className:Ce.a["login-page__content-container"],children:Object(G.jsx)("div",{className:Ce.a.content,children:Object(G.jsx)(X.c,{initialValues:{login:"",password:""},validationSchema:s,onSubmit:function(t){e(t.login,t.password)},children:function(e){var t=e.values,s=e.errors,a=e.touched,o=e.handleChange,c=e.handleBlur,i=e.handleSubmit,u=e.isValid;return Object(G.jsxs)("form",{onSubmit:i,className:Ce.a["login-form"],children:[Object(G.jsx)(le,{header:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",description:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",className:D()(Ce.a["login-form__main-error"],r?Ce.a["login-form__main-error_showing"]:null)}),Object(G.jsx)("p",{className:Ce.a["login-form__description"],children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(G.jsx)(de,{labelName:"\u041b\u043e\u0433\u0438\u043d",id:"login",name:"login",type:"text",value:t.login,onChange:o,onBlur:c,errorMessage:s.login||"",required:!0,showError:!(!a.login||!s.login)}),Object(G.jsx)(de,{labelName:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"password",name:"password",type:"password",value:t.password,onChange:o,onBlur:c,errorMessage:s.password||"",required:!0,showError:!(!a.password||!s.password),hasIcon:!0,iconUrl:we}),Object(G.jsx)(W,{type:"submit",disabled:n&&!u,children:n?Object(G.jsx)(re,{}):"\u0412\u043e\u0439\u0442\u0438"})]})}})})})]})},ke=r.p+"static/media/user.7eb38d2d.svg",Re=r(44),De=r.n(Re),Ae=function(e){var t=e.candidate,r=t.candidate,n=t.consigment,s=t.candidate_id,a=t.photo;return Object(G.jsxs)("div",{className:De.a["photo-item"],children:[Object(G.jsx)("img",{src:a?"http://"+a:ke,alt:"".concat(s,"_").concat(r),className:De.a["photo-item__img"]}),Object(G.jsx)("h2",{className:De.a["photo-item__surname"],children:r.split(" ")[0]}),Object(G.jsxs)("p",{className:De.a["photo-item__name"],children:[" ",r.split(" ").slice(-2).join(" ")]}),Object(G.jsx)("p",{className:De.a["photo-item__consigment"],children:"\u0421\u0430\u043c\u043e\u0432\u044b\u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435"===n?n:"\xab".concat(n,"\xbb")})]})},Le=r(51),Fe=r.n(Le),Ge=function(e){var t=e.className,r=e.candidates;return Object(G.jsx)("div",{className:D()(Fe.a["photo-list"],0===r.length?Fe.a["photo-list_empty"]:null,t||null),children:0===r.length?Object(G.jsx)("div",{className:Fe.a["photo-list__error"],children:Object(G.jsx)("span",{className:Fe.a["error-text"],children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432 \u043f\u0443\u0441\u0442"})}):r.map((function(e){return Object(G.jsx)(Ae,{candidate:e},e.candidate_id)}))})},Pe=r(16),Me=r.n(Pe),Be=Object(s.memo)((function(){var e=Object(s.useState)({isOpenedCount:0,peopleCount:0}),t=Object(m.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)([]),o=Object(m.a)(a,2),c=o[0],i=o[1],u=Object(s.useState)(!0),l=Object(m.a)(u,2),_=l[0],b=l[1],f=Object(s.useState)(!1),j=Object(m.a)(f,2),h=j[0],O=j[1],v=function(e){return(""+e).split("").reverse().reduce((function(e,t,r){return r%3===0&&0!==r?e+" "+t:""+e+t})).split("").reverse().join("")},x=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{b(!0),O(!1),setTimeout(Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getCandidatesAndAreasInfo();case 2:t=e.sent.data,n({isOpenedCount:t.count_opened,peopleCount:t.count_people}),i(t.info),b(!1);case 6:case"end":return e.stop()}}),e)}))),500)}catch(t){O(!0),b(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){x()}),[]),Object(G.jsx)("div",{className:D()(Me.a.candidates,h||_?Me.a.candidates_empty:null),children:_?Object(G.jsx)(re,{className:Me.a.candidates__loader,isPrimaryColor:!0}):h?Object(G.jsxs)("div",{className:Me.a.candidates__error,children:[Object(G.jsx)("span",{className:Me.a["error-text"],children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),Object(G.jsx)(W,{type:"button",disabled:!1,className:Me.a["error-btn"],onClick:x,children:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437"})]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:D()(Me.a["candidates__voting-areas"],Me.a["voting-areas"]),children:[Object(G.jsxs)("div",{className:Me.a["voting-areas__info-block"],children:[Object(G.jsx)("span",{className:Me.a["voting-areas__name"],children:"\u0423\u0447\u0430\u0441\u0442\u043a\u043e\u0432 \u043e\u0442\u043a\u0440\u044b\u0442\u043e"}),Object(G.jsx)("div",{className:Me.a["voting-areas__value"],children:v(r.isOpenedCount)})]}),Object(G.jsxs)("div",{className:Me.a["voting-areas__info-block"],children:[Object(G.jsx)("span",{className:Me.a["voting-areas__name"],children:"\u0427\u0438\u0441\u043b\u043e \u0436\u0438\u0442\u0435\u043b\u0435\u0439 \u043d\u0430 \u0443\u0447\u0430\u0441\u0442\u043a\u0430\u0445"}),Object(G.jsx)("div",{className:Me.a["voting-areas__value"],children:v(r.peopleCount)})]})]}),Object(G.jsx)(Ge,{className:Me.a["candidates__candidates-list"],candidates:c})]})})})),Ve=Be;function Ue(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function qe(){var e=Object(s.useState)(Ue()),t=Object(m.a)(e,2),r=t[0],n=t[1];return Object(s.useEffect)((function(){function e(){n(Ue())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),r}var He=r(33),Je=r.n(He),Ke=Object(s.memo)((function(e){var t=Object(s.useState)(null),r=Object(m.a)(t,2),n=r[0],a=r[1],o=e.result,c=o.candidate,i=o.result,u=o.photo,l=e.isMobileScreen;return Object(s.useEffect)((function(){setTimeout((function(){a(l?{width:"calc( 50% * ".concat(.01*i," )")}:{height:"calc( 17vh * ".concat(.01*i," )")})}),100)}),[i,l]),Object(G.jsxs)("div",{className:Je.a["result-item"],children:[Object(G.jsxs)("span",{className:Je.a["result-item__percent"],children:[i,"%"]}),Object(G.jsx)("div",{className:Je.a["result-item__graph"],style:n}),Object(G.jsxs)("div",{className:Je.a["result-item__candidate"],children:[Object(G.jsx)("img",{src:u?"http://"+u:ke,alt:"\u0444\u043e\u0442\u043e ".concat(c),className:Je.a["result-item__photo"]}),Object(G.jsxs)("h2",{className:Je.a["result-item__name"],children:[Object(G.jsx)("span",{children:c.split(" ")[1]}),Object(G.jsx)("span",{className:Je.a["result-item__name_uppercase"],children:c.split(" ")[0]})]})]})]})})),We=r(124),Ye=r.n(We),ze=function(e){var t=e.className,r=e.candidates,n=Object(s.useState)(document.documentElement.clientWidth<=1024),a=Object(m.a)(n,2),o=a[0],c=a[1],i=qe().width;return Object(s.useEffect)((function(){i<=1300&&!o?c(!0):i>1300&&o&&c(!1)}),[i]),Object(G.jsx)("div",{className:D()(Ye.a["results-list"],t||null),children:r.sort((function(e,t){return e.result>t.result?-1:e.result<t.result?1:0})).map((function(e){return Object(G.jsx)(Ke,{result:e,isMobileScreen:o},e.candidate_id)}))})};var Ze,Qe=function(e,t){var r=Object(s.useRef)(null),n=Object(s.useRef)(e);return Object(s.useEffect)((function(){n.current=e}),[e]),Object(s.useEffect)((function(){if("number"===typeof t)return r.current=window.setInterval((function(){return n.current()}),t),function(){return window.clearInterval(r.current)}}),[t]),r},Xe=r(23),$e=r.n(Xe),et=function(){var e=Object(s.useState)({turnout:0,checked_bulletins:0}),t=Object(m.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)([]),o=Object(m.a)(a,2),c=o[0],i=o[1],u=Object(s.useState)(!0),l=Object(m.a)(u,2),_=l[0],b=l[1],f=Object(s.useState)(!1),j=Object(m.a)(f,2),h=j[0],O=j[1],v=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{b(!0),O(!1),setTimeout(Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getResultsInfo();case 2:t=e.sent.data,n({turnout:t.turnout,checked_bulletins:t.checked_bulletins_percentage}),i(t.candidate_results),b(!1);case 6:case"end":return e.stop()}}),e)}))),500)}catch(t){O(!0),b(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getResultsInfo();case 3:t=e.sent.data,n({turnout:t.turnout,checked_bulletins:t.checked_bulletins_percentage}),i(t.candidate_results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){v()}),[]),Qe((function(){x()}),15e3),Object(G.jsx)("div",{className:D()($e.a.results,h||_?$e.a.results_empty:null),children:_?Object(G.jsx)(re,{className:$e.a.results__loader,isPrimaryColor:!0}):h?Object(G.jsxs)("div",{className:$e.a.results__error,children:[Object(G.jsx)("span",{className:$e.a["error-text"],children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),Object(G.jsx)(W,{type:"button",disabled:!1,className:$e.a["error-btn"],onClick:v,children:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437"})]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:$e.a.results__statistics,children:[Object(G.jsxs)("p",{className:$e.a.info,children:["\u042f\u0432\u043a\u0430 - ",Object(G.jsxs)("span",{className:$e.a.info__result,children:[r.turnout,"%"]})]}),Object(G.jsxs)("p",{className:$e.a.info,children:["\u0413\u043e\u043b\u043e\u0441\u043e\u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e -"," ",Object(G.jsxs)("span",{className:$e.a.info__result,children:[r.checked_bulletins,"%"]})]})]}),Object(G.jsx)(ze,{className:$e.a.results__list,candidates:c})]})})},tt=r(34),rt=r.n(tt),nt=r(52),st=r.n(nt),at=Object(s.memo)((function(e){var t=Object(s.useState)(null),r=Object(m.a)(t,2),n=r[0],a=r[1],o=e.turnoutInfo,c=o.turnout,i=o.district,u=e.isMobileScreen;return Object(s.useEffect)((function(){setTimeout((function(){a({width:"calc( ".concat(u?35:65,"% * ").concat(.01*c," )")})}),100)}),[c,u]),Object(G.jsxs)("div",{className:st.a["turnout-item"],children:[Object(G.jsx)("h3",{className:st.a["turnout-item__district"],children:i}),Object(G.jsx)("div",{className:st.a["turnout-item__graph"],style:n}),Object(G.jsxs)("span",{className:st.a["turnout-item__percent"],children:[Math.floor(c),"%"]})]})})),ot=function(e){var t=e.className,r=Object(s.useState)(!1),n=Object(m.a)(r,2),a=n[0],o=n[1],c=Object(s.useState)(!1),i=Object(m.a)(c,2),u=i[0],l=i[1],_=Object(s.useState)([]),b=Object(m.a)(_,2),f=b[0],j=b[1],h=Object(s.useState)(document.documentElement.clientWidth<=768),O=Object(m.a)(h,2),v=O[0],x=O[1],y=qe().width,g=Object(s.useContext)(F).time,N=g.minutes,S=g.hours,w=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{o(!0),l(!1),setTimeout(Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getDistrictsTurnout();case 2:t=e.sent.data,j(t.districts_turnout),o(!1);case 5:case"end":return e.stop()}}),e)}))),500)}catch(t){l(!0),o(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getDistrictsTurnout();case 3:t=e.sent.data,j(t.districts_turnout),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){w()}),[]),Object(s.useEffect)((function(){(15===S&&0===N||18===S&&0===N)&&E()}),[N,S]),Object(s.useEffect)((function(){y<=768&&!v?x(!0):y>768&&v&&x(!1)}),[y]),Object(G.jsx)("div",{className:D()(rt.a["turnout-list"],u||a||0===f.length?rt.a["turnout-list_empty"]:null,t||null),children:a?Object(G.jsx)(re,{className:rt.a["turnout-list__loader"],isPrimaryColor:!0}):u||0===f.length?Object(G.jsx)("div",{className:rt.a["turnout-list__error"],children:0===f.length?Object(G.jsx)("span",{className:rt.a["error-text"],children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442\u043e\u0439"}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("span",{className:rt.a["error-text"],children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),Object(G.jsx)(W,{type:"button",disabled:!1,className:rt.a["error-btn"],onClick:w,children:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437"})]})}):f.map((function(e,t){return Object(G.jsx)(at,{turnoutInfo:e,isMobileScreen:v},t)}))})},ct=r(53),it=r.n(ct),ut=function(){var e=Object(s.useContext)(F).time.hours;return Object(G.jsxs)("div",{className:it.a.turnout,children:[Object(G.jsxs)("h2",{className:it.a.turnout__header,children:["\u042f\u0432\u043a\u0430 \u043d\u0430\xa0",Object(G.jsxs)("span",{className:it.a.clock,children:[e>=12&&e<15?"12":e>=15&&e<18?"15":e>=18&&e<21?"18":void 0,":00"]})]}),Object(G.jsx)(ot,{className:it.a.turnout__list})]})},lt=r(79),_t=r.n(lt),pt=function(){var e=Object(s.useContext)(F),t=e.time,r=t.minutes,n=t.hours,a=e.isDevNextDaySet,o=e.votingDate;return Object(s.useEffect)((function(){a||o.getDay()<(new Date).getDay()?H.push("/main/results"):(n<12&&"/main/candidates-list"!==H.location.pathname&&H.push("/main/candidates-list"),(12===n&&0===r||n>=12&&n<21&&"/main/turnout"!==H.location.pathname)&&H.push("/main/turnout"),(21===n&&0===r||n>=21&&"/main/results"!==H.location.pathname)&&H.push("/main/results"))}),[r,n,a]),Object(G.jsxs)("div",{className:_t.a.main,children:[Object(G.jsx)(V,{className:_t.a.main__header}),Object(G.jsxs)(u.c,{children:[Object(G.jsx)(u.a,{path:"/main/candidates-list",component:Ve}),Object(G.jsx)(u.a,{path:"/main/turnout",component:ut}),Object(G.jsx)(u.a,{path:"/main/results",component:et})]})]})};!function(e){e.MAIN_PAGE="/",e.MAIN_PAGE_SCREENS="/main",e.LOGIN_PAGE="/login",e.EMPLOYEE_PAGE="/employee-page"}(Ze||(Ze={}));var dt=[{path:Ze.MAIN_PAGE,exact:!0,component:pt},{path:Ze.MAIN_PAGE_SCREENS,component:pt},{path:Ze.LOGIN_PAGE,component:Te}],mt=[{path:Ze.EMPLOYEE_PAGE,component:ge}],bt=r(80),ft=r.n(bt),jt=function(){return Object(G.jsxs)("div",{className:ft.a.container,children:[Object(G.jsx)("p",{children:"\u0423\u043f\u0441, \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(G.jsx)(l.a,{className:ft.a.button,to:Ze.MAIN_PAGE,children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})},ht=function(){return Object(G.jsxs)(u.c,{children:[dt.map((function(e){return Object(G.jsx)(u.a,{path:e.path,exact:e.exact,component:e.component},e.path)})),mt.map((function(e){return Object(G.jsx)(u.a,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(G.jsx)(u.a,{component:jt})]})},Ot=r(81),vt=r.n(Ot),xt=function(){var e=Object(s.useState)("0"),t=Object(m.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)("0"),o=Object(m.a)(a,2),c=o[0],i=o[1],u=Object(s.useState)(!1),l=Object(m.a)(u,2),_=l[0],p=l[1],d=Object(s.useState)(!1),b=Object(m.a)(d,2),f=b[0],j=b[1],h=Object(s.useContext)(F),O=h.setCustomTime,v=h.clearCustomTime,x=h.time,y=h.isDevNextDaySet;return Object(s.useEffect)((function(){var e=localStorage.getItem("devTimeHours"),t=localStorage.getItem("devTimeMinutes"),r=localStorage.getItem("devRealTimeSeconds"),n=localStorage.getItem("devIsNextDay");e&&t&&r&&(O(parseInt(e,10),parseInt(t,10),!!n,parseInt(r,10)),j(!0))}),[]),Object(s.useEffect)((function(){f&&(n(x.hours.toString()),i(x.minutes.toString()),p(y))}),[f,x,y]),Object(G.jsxs)("form",{className:D()(vt.a["dev-time"],f?vt.a["dev-time_using"]:null),onSubmit:function(e){e.preventDefault(),O(parseInt(r,10),parseInt(c,10),_,Math.floor((new Date).getTime()/1e3)),j(!0),localStorage.setItem("devTimeHours",r.toString()),localStorage.setItem("devTimeMinutes",c.toString()),_&&localStorage.setItem("devIsNextDay","true"),localStorage.setItem("devRealTimeSeconds",Math.floor((new Date).getTime()/1e3).toString())},children:[Object(G.jsxs)("label",{htmlFor:"hours",children:["\u0447\u0430\u0441\u044b"," ",Object(G.jsx)("input",{type:"number",id:"hours",value:r,onChange:function(e){n(e.currentTarget.value)},required:!0})]}),Object(G.jsxs)("label",{htmlFor:"minutes",children:["\u043c\u0438\u043d\u0443\u0442\u044b"," ",Object(G.jsx)("input",{type:"number",id:"minutes",value:c,onChange:function(e){return i(e.currentTarget.value)},required:!0})]}),Object(G.jsxs)("label",{htmlFor:"isnextday",children:[Object(G.jsx)("input",{type:"checkbox",id:"isnextday",name:"isnextday",checked:_,onChange:function(e){return p(e.currentTarget.checked)}}),"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0434\u0435\u043d\u044c"]}),Object(G.jsx)("button",{type:"submit",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(G.jsx)("button",{type:"button",onClick:function(){v(),n("0"),i("0"),p(!1),j(!1),localStorage.removeItem("devTimeHours"),localStorage.removeItem("devTimeMinutes"),localStorage.removeItem("devRealTimeSeconds"),localStorage.removeItem("devIsNextDay")},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),f?Object(G.jsx)("small",{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f!"}):null]})},yt=function(){var e=Se().fetchRefreshTokens,t=U((function(e){return e.auth})),r=t.access_token,n=t.isFirstRefreshDone,a=function(){var e=Object(s.useState)(new Date),t=Object(m.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(new Date),o=Object(m.a)(a,2),c=o[0],i=o[1],u=Object(s.useState)(void 0),l=Object(m.a)(u,2),_=l[0],b=l[1],f=Object(s.useState)(!1),j=Object(m.a)(f,2),h=j[0],O=j[1],v=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getVotingDate();case 3:t=e.sent.data,i(new Date(t.voting_date)),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){v()}),[]);var x=function(e){var t=e||new Date,r=Math.floor(t.getTime()/1e3)-_.realTimeInSeconds,s=Math.floor(r/3600),a=Math.floor((r-3600*s)/60);n(new Date(t.getFullYear(),t.getMonth(),t.getDay(),_.hours+s,_.minutes+a))};return Qe((function(){var e=new Date;_?(Math.floor(e.getTime()/1e3)-_.realTimeInSeconds)%60===0&&Math.floor(e.getTime()/1e3)-_.realTimeInSeconds!==0&&x(e):0===e.getSeconds()&&n(e)}),1e3),Object(s.useEffect)((function(){var e=new Date;_?x(e):n(e)}),[_]),{isDevNextDaySet:h,votingDate:c,time:{hours:r.getHours(),minutes:r.getMinutes()},setCustomTime:function(e,t,r,n){b({hours:e,minutes:t,realTimeInSeconds:n||Math.floor((new Date).getTime()/1e3)}),O(!!r)},clearCustomTime:function(){b(null),O(!1)}}}(),o=a.time,c=a.isDevNextDaySet,i=a.votingDate,u=a.setCustomTime,l=a.clearCustomTime;return Object(s.useEffect)((function(){e()}),[]),Object(s.useEffect)((function(){n&&(H.location.pathname===Ze.LOGIN_PAGE&&r&&H.push(Ze.EMPLOYEE_PAGE),H.location.pathname.includes(Ze.EMPLOYEE_PAGE)&&(r||H.push(Ze.LOGIN_PAGE)))}),[r,H.location.pathname,n]),Object(G.jsx)(F.Provider,{value:{time:o,votingDate:i,isDevNextDaySet:c,setCustomTime:u,clearCustomTime:l},children:Object(G.jsxs)("div",{className:"wrapper",children:[Object(G.jsx)(xt,{}),n?Object(G.jsx)(ht,{}):Object(G.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})]})})};c.a.render(Object(G.jsx)(i.a,{store:E,children:Object(G.jsx)(u.b,{history:H,children:Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(yt,{})})})}),document.getElementById("root"))},26:function(e,t,r){e.exports={"login-page":"styles_login-page__2N2_e","login-page__header":"styles_login-page__header__CwIK-","login-page__picture":"styles_login-page__picture__1JfiC","login-page__content-container":"styles_login-page__content-container__2j19G",content:"styles_content__2Mzyn","login-form":"styles_login-form__2mJDG","login-form__description":"styles_login-form__description__TBp_p","login-form__main-error":"styles_login-form__main-error__1nbnt","login-form__main-error_showing":"styles_login-form__main-error_showing__19QVM"}},33:function(e,t,r){e.exports={"result-item":"styles_result-item__1ZrcL","result-item__percent":"styles_result-item__percent__20SNg","result-item__graph":"styles_result-item__graph__2sG-B","result-item__candidate":"styles_result-item__candidate__1xKvy","result-item__photo":"styles_result-item__photo__1E3jm","result-item__name":"styles_result-item__name__12St9","result-item__name_uppercase":"styles_result-item__name_uppercase__1Mw-l"}},34:function(e,t,r){e.exports={"turnout-list":"styles_turnout-list__31Bgo","turnout-list_empty":"styles_turnout-list_empty__2BY7D","turnout-list__error":"styles_turnout-list__error__1usZt","error-text":"styles_error-text__2jdZF","error-btn":"styles_error-btn__2t6iU"}},38:function(e,t,r){e.exports={popup__background:"styles_popup__background__RRYjn",popup__content:"styles_popup__content__2uzKH",popup__props:"styles_popup__props__1Pd1_","popup__buttons-block":"styles_popup__buttons-block__3K2nm",popup__button:"styles_popup__button__PIosN"}},43:function(e,t,r){e.exports={"error-alert":"styles_error-alert__3ro0p","error-alert__icon":"styles_error-alert__icon__1hlEB","error-alert__content":"styles_error-alert__content__2b48I","error-alert__header":"styles_error-alert__header__3akAw","error-alert__description":"styles_error-alert__description__3WtY_"}},44:function(e,t,r){e.exports={"photo-item":"styles_photo-item__m7oOD","photo-item__img":"styles_photo-item__img__1QgZI","photo-item__surname":"styles_photo-item__surname__33mco","photo-item__name":"styles_photo-item__name__17yFg","photo-item__consigment":"styles_photo-item__consigment__1TKbt"}},49:function(e,t,r){e.exports={header:"styles_header__2dQfB",header__clock:"styles_header__clock__1_RRe",header__logo:"styles_header__logo__3woUs",header__clock_hidden:"styles_header__clock_hidden__3TNIC"}},50:function(e,t,r){e.exports={wrapper:"styles_wrapper__2e3yv",final__content:"styles_final__content__29jdu",final__header:"styles_final__header__1N7Gd",final__button:"styles_final__button__3rGtv"}},51:function(e,t,r){e.exports={"photo-list":"styles_photo-list__I-PQD","photo-list_empty":"styles_photo-list_empty__dCuTt","photo-list__error":"styles_photo-list__error__kmi0k","error-text":"styles_error-text__3ju8S","error-btn":"styles_error-btn__3ikSf"}},52:function(e,t,r){e.exports={"turnout-item":"styles_turnout-item__3m59A","turnout-item__district":"styles_turnout-item__district__jTQ6J","turnout-item__graph":"styles_turnout-item__graph__3pCm2","turnout-item__percent":"styles_turnout-item__percent__2A4_L"}},53:function(e,t,r){e.exports={turnout:"styles_turnout__1CB4i",turnout__header:"styles_turnout__header__2_1VN",clock:"styles_clock__NR3Pw",turnout__list:"styles_turnout__list__2ygO7"}},6:function(e,t,r){e.exports={protocol:"styles_protocol__2Ea4p",protocol_empty:"styles_protocol_empty__2wJy_",protocol__error:"styles_protocol__error__3GD3h","error-text":"styles_error-text__3licd","error-btn":"styles_error-btn__XpIa2",protocol__form:"styles_protocol__form__10o8a","protocol-form":"styles_protocol-form__3HE0s","protocol-form__wrapper":"styles_protocol-form__wrapper__3dBRn","protocol-form__bulletins":"styles_protocol-form__bulletins__1SjkQ",bulletins__input:"styles_bulletins__input__lhpDj","bulletins__input-error":"styles_bulletins__input-error__3Y5qI","protocol-form__votes":"styles_protocol-form__votes__4q8Fe","votes__candidate-list":"styles_votes__candidate-list__1Z6Vp","votes__input-block":"styles_votes__input-block__1qSEU","votes__input-block_error":"styles_votes__input-block_error__arxb1",votes__label:"styles_votes__label__2aD7I",votes__input:"styles_votes__input__J4k3x","protocol-form__description":"styles_protocol-form__description__1SWlH","protocol-form__main-error":"styles_protocol-form__main-error__34sRy","protocol-form__main-error_hidden":"styles_protocol-form__main-error_hidden__1utUy","protocol-form__time-left":"styles_protocol-form__time-left__1fF-H","protocol-form__time-left_hidden":"styles_protocol-form__time-left_hidden__m8zlh","protocol-form__submit-btn":"styles_protocol-form__submit-btn__1IhtF","bulletins__input-block":"styles_bulletins__input-block__2rdhd"}},63:function(e,t,r){e.exports={"form-button":"styles_form-button__1a9eb","form-button_color_red":"styles_form-button_color_red__1zg2o","form-button_color_gray":"styles_form-button_color_gray__3uLGX"}},77:function(e,t,r){e.exports={spinner:"styles_spinner__3kNkA","spinner_primary-color":"styles_spinner_primary-color__3-KJ3",spin:"styles_spin__MjjZb"}},79:function(e,t,r){e.exports={main:"styles_main__24-fu",main__header:"styles_main__header__y51-e"}},80:function(e,t,r){e.exports={container:"styles_container__20my1",button:"styles_button__3omc9"}},81:function(e,t,r){e.exports={"dev-time":"styles_dev-time__18MSc","dev-time_using":"styles_dev-time_using__3RbwX"}}},[[255,1,2]]]);
//# sourceMappingURL=main.94c05ace.chunk.js.map